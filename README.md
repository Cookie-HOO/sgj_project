# SGJ的数据分析项目
> 1. Klotho(31.2-2000pg/ml)	FGF23(78-5000pg/ml)	Fetuin-A(0.78-50ng/ml)	dp-ucMGP(78.125-5000pg/ml) 是因变量
> 2. 尝试研究其他变量对于这四个因变量的关系

- my_lm.R: 批量做全子集回归的工具，寻找显著参数的个数
- my_test.R: 
    - x_label_y_diff_check：多个类别自变量和多个因变量的检验，生成一个p值的df
    - x_num_y_cor_check：多个数值自变量和多个因变量的检验，生成一个cor的df，和p值的df
    - get_top_n_x_cols：寻找指定列p值最小的rownames（寻找重要的自变量）
- script.R: 完整任务脚本
---

## 第一部分：数据处理

1. 时间处理
2. 类别处理
3. 缺失值处理

## 第二部分：数据展示

1. 类别型和数值型自变量的分布
2. 因变量的直方图和箱线图
3. 因变量之间的相关关系

## 第三部分：检验（自变量和因变量之间的关系）
> 找到均值检验显著的自变量（类别型）和相关性检验显著的自变量（数值型）
1. 均值检验

~~~R
# 均值检验
# 输入：df，需要做检验的自变量（结果的行数），需要做检验的因变量（结果的列数），检验的方法
# 输出：len(x) * len(y) 的df，每一列都是p值
# 方法：自变量是类别型，因变量的类型区分不同方法
#   因变量是数值：
#      两类
#          t: t检验(2类+正态)
#          wilcoxon: wilcoxon检验(2类+非正态)       默认
#      多类
#          anova: 方差分析(多类+正态)
#          kruskal: Kruskal-Wallis检验（多类+非正态）  默认
#   因变量是类别
#      40样本以上
#          卡方检验
#      40样本以下
#          fisher精确检验
#
~~~

2. 相关性检验
~~~R
# 相关性检验
# 输入：df，需要做检验的自变量（结果的行数），需要做检验的因变量（结果的列数），检验的方法
# 输出：len(x) * len(y) 的df，len(x) * len(y) 的df
#       第一个df是相关性，第二个df是p值
# 方法：自变量是数值型，因变量的类型区分不同方法
#   因变量是数值
#     Pearson积差相关系数
#   因变量是有序类别   
#     Spearman等级相关系数
#
~~~

## 回归
> 1. 共有n个自变量尝试做回归，进行所有可能的回归（2^n）中可能（没有考虑相互作用）找到显著变量最多的模型
> 2. 平均 1w次 大概 12s